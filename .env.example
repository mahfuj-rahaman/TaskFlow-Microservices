# =============================================================================
# TaskFlow Microservices - Environment Variables
# =============================================================================
# Copy this file to .env and update the values for your environment
# IMPORTANT: Never commit .env file to version control (it's in .gitignore)
# =============================================================================

# -----------------------------------------------------------------------------
# Environment Configuration
# -----------------------------------------------------------------------------
ENVIRONMENT="Development"

# -----------------------------------------------------------------------------
# PostgreSQL Database Configuration
# -----------------------------------------------------------------------------
# Used by all microservices for data persistence
# Default database: taskflow (auto-created by init script)
# Service-specific databases: taskflow_identity, taskflow_user, taskflow_task, taskflow_admin, taskflow_notif
# -----------------------------------------------------------------------------
POSTGRES_USER="postgres"
POSTGRES_PASSWORD="postgres"
POSTGRES_DB="taskflow"

# -----------------------------------------------------------------------------
# Redis Cache Configuration
# -----------------------------------------------------------------------------
# Used for distributed caching and session management
# Port: 6379 (default)
# -----------------------------------------------------------------------------
REDIS_PASSWORD="redis123"

# -----------------------------------------------------------------------------
# RabbitMQ Message Broker Configuration
# -----------------------------------------------------------------------------
# Used for asynchronous messaging between microservices
# Management UI: http://localhost:15672
# AMQP Port: 5672 (default)
# -----------------------------------------------------------------------------
RABBITMQ_USER="rabbitmq"
RABBITMQ_PASSWORD="rabbitmq"

# -----------------------------------------------------------------------------
# JWT Authentication Configuration
# -----------------------------------------------------------------------------
# Secret key for signing JWT tokens
# IMPORTANT: Change this to a strong random 256-bit key in production!
# Generate using: openssl rand -base64 32
# Minimum length: 32 characters
# -----------------------------------------------------------------------------
JWT_SECRET_KEY="TaskFlow-Super-Secret-Key-Change-In-Production-Min-32-Chars!!!"

# =============================================================================
# PRODUCTION SECURITY CHECKLIST
# =============================================================================
# Before deploying to production, ensure you:
# ✅ Change ALL default passwords to strong, unique values
# ✅ Generate a new JWT_SECRET_KEY using: openssl rand -base64 32
# ✅ Use environment-specific .env files (.env.production, .env.staging)
# ✅ Store sensitive credentials in a secrets manager (Azure Key Vault, AWS Secrets Manager, etc.)
# ✅ Enable TLS/SSL for all services
# ✅ Restrict database access to specific IP addresses
# ✅ Enable RabbitMQ authentication and TLS
# ✅ Use Redis ACL for fine-grained access control
# ✅ Regularly rotate credentials
# =============================================================================

# =============================================================================
# ADDITIONAL CONFIGURATION (Optional)
# =============================================================================
# These settings have defaults in docker-compose.yml but can be overridden:

# Service Ports (uncomment to customize)
# API_GATEWAY_PORT="5000"
# IDENTITY_SERVICE_PORT="5006"
# USER_SERVICE_PORT="5001"
# TASK_SERVICE_PORT="5005"
# ADMIN_SERVICE_PORT="5007"
# NOTIF_SERVICE_PORT="5004"
# POSTGRES_PORT="5432"
# REDIS_PORT="6379"
# RABBITMQ_PORT="5672"
# RABBITMQ_MANAGEMENT_PORT="15672"
# CONSUL_PORT="8500"
# SEQ_PORT="5341"
# JAEGER_PORT="16686"

# JWT Configuration (uncomment to customize)
# JWT_ISSUER="TaskFlow.ApiGateway"
# JWT_AUDIENCE="TaskFlow.Services"
# JWT_EXPIRATION_MINUTES="15"
# JWT_REFRESH_TOKEN_EXPIRATION_DAYS="7"

# Logging Configuration (uncomment to customize)
# LOG_LEVEL="Information"
# SEQ_API_KEY=""

# Rate Limiting (uncomment to customize)
# RATE_LIMIT_ENABLED="true"
# RATE_LIMIT_PERMIT_LIMIT="100"
# RATE_LIMIT_WINDOW_MINUTES="1"

# CORS Configuration (uncomment to customize)
# CORS_ORIGINS="http://localhost:3000,http://localhost:4200"

# =============================================================================
# EXAMPLE PRODUCTION CONFIGURATION
# =============================================================================
# Copy and modify for production deployment:
#
# ENVIRONMENT="Production"
# POSTGRES_USER="taskflow_prod_user"
# POSTGRES_PASSWORD="<strong-random-password>"
# POSTGRES_DB="taskflow_production"
# REDIS_PASSWORD="<strong-random-password>"
# RABBITMQ_USER="taskflow_prod_mq"
# RABBITMQ_PASSWORD="<strong-random-password>"
# JWT_SECRET_KEY="<generate-with-openssl-rand-base64-32>"
# LOG_LEVEL="Warning"
# RATE_LIMIT_PERMIT_LIMIT="50"
# =============================================================================
